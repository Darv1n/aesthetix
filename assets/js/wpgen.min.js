jQuery(document).ready(function(d){d("#footer").on("click","#aesthetix-btn",function(e){d("#aesthetix-popup");if("off"===d(this).attr("data-opener"))var t="on";else t="off";localStorage.setItem("aesthetixOpener",t),r(t),e.preventDefault()});var e=localStorage.getItem("aesthetixOpener");function r(e){var t=d("#aesthetix-btn").attr("data-text-"+e);d("#aesthetix-btn").attr("data-opener",e).html(t),d("#aesthetix-popup").attr("data-opener",e)}null!==e&&r(e),d("#aesthetix-name").change(function(){localStorage.setItem("aesthetixName",d(this).val())});var t=localStorage.getItem("aesthetixName");function o(e){localStorage.setItem("aesthetixData",JSON.stringify(e));var t,r,i=ajax_aesthetix_obj.value,m={};d.each(e,function(e,t){var r,o=d("#"+t.name);if(o.data("value",t.value),0!==o.length){o.find(":selected");if(type=o.data("type"),currentValue=o.data("value"),root=o.data("root"),"color"===type){if("linkColor"===root)if("blue"===currentValue)m.linkColorDark=i["blue-600"],m.linkColor=i["blue-500"],m.linkColorLight=i["blue-400"];else{var a=d("#general-"+currentValue+"-color").find(":selected").val();m.linkColorDark=i[a+"-600"],m.linkColor=i[a+"-500"],m.linkColorLight=i[a+"-400"]}else d.each([50,100,200,300,400,500,600,700,800,900,950],function(e,t){m[root+"-color-"+t]=i[currentValue+"-"+t]});if("gray"===root){var l=d("#customizer-general-color-scheme").find(":selected").val();m.whiteColor=i[currentValue+"-50"],"black"===l?(m["primary-bg-color"]=i[currentValue+"-950"],m["primary-bg-color-hover"]=i[currentValue+"-900"],m["primary-bd-color"]=i[currentValue+"-800"],m["primary-bd-color-hover"]=i[currentValue+"-700"],m["primary-gray-color"]=i[currentValue+"-300"],m["primary-gray-color-hover"]=i[currentValue+"-400"],m["primary-text-color"]=i[currentValue+"-50"],m["svg-filter"]="invert(100%)"):"dark"===l?(m["primary-bg-color"]=i[currentValue+"-800"],m["primary-bg-color-hover"]=i[currentValue+"-900"],m["primary-bd-color"]=i[currentValue+"-900"],m["primary-bd-color-hover"]=i[currentValue+"-950"],m["primary-gray-color"]=i[currentValue+"-300"],m["primary-gray-color-hover"]=i[currentValue+"-400"],m["primary-text-color"]=i[currentValue+"-50"],m["svg-filter"]="invert(100%)"):("light"===l?(m["primary-bg-color"]=i[currentValue+"-200"],m["primary-bg-color-hover"]=i[currentValue+"-300"]):(m["primary-bg-color"]=i[currentValue+"-50"],m["primary-bg-color-hover"]=i[currentValue+"-200"]),m["primary-bd-color"]=i[currentValue+"-300"],m["primary-bd-color-hover"]=i[currentValue+"-400"],m["primary-gray-color"]=i[currentValue+"-500"],m["primary-gray-color-hover"]=i[currentValue+"-600"],m["primary-text-color"]=i[currentValue+"-950"],m["svg-filter"]="invert(0%)")}}else if("elem"===type){if("elemBgSaturate"===root){var n=d("#general-gray-color").find(":selected").val();m.elemBgColor=i[n+"-"+currentValue];var c=g(currentValue);m.elemTextColor="white"===c?i[n+"-50"]:i[n+"-900"],d("body").removeClass("theme_elems_white theme_elems_light theme_elems_dark theme_elems_black").addClass("theme_elems_"+function(e){if(-1!==d.inArray(parseInt(e),[800,900,950]))var t="black";else if(-1!==d.inArray(parseInt(e),[500,600,700]))t="dark";else if(-1!==d.inArray(parseInt(e),[200,300,400]))t="light";else t="white";return t}(currentValue))}else if("elemBdColorSaturate"===root){var s=d("#elem-bd-color").find(":selected").val();elemBdColorStyle=g(currentValue),n=d("#general-"+s+"-color").find(":selected").val(),m.elemBdColor=i[n+"-"+currentValue],"white"===elemBdColorStyle?m.elemBdColorHover=i[n+"-"+function(e){value=100===parseInt(e)||950===parseInt(e)?parseInt(e)-50:50===parseInt(e)?parseInt(e)+50:parseInt(e)-100;return value}(currentValue)]:m.elemBdColorHover=i[n+"-"+function(e){value=50===parseInt(e)||900===parseInt(e)?parseInt(e)+50:950===parseInt(e)?parseInt(e)-50:parseInt(e)+100;return value}(currentValue)]}else"elemBdColor"===root||(m[root]=i[currentValue]);"elemShadow"===root&&(m.elemShadowHover=i[currentValue].replace("0.15","0.25"))}else if("form"===type)"btnSize"===root?(m.buttonPaddingTop=i[currentValue].split(" ")[0],m.buttonPaddingLeft=i[currentValue].split(" ")[1]):m[root]=i[currentValue];else if("typography"===type){var u=d("#"+t.name).find(":selected").text();d("#"+t.name+"-css").attr("href","//fonts.googleapis.com/css2?family="+u.replace(/ /g,"+")+"%3Awght%40400%3B700&display=swap&ver=1.0.0"),m[root]="'"+u+"'"}else if("customizer"===type)if("customizerColorScheme"===root)r=currentValue,d.each([{body:"theme_"}],function(){d.each(this,function(e,t){d(e).removeClass(t+"white "+t+"light "+t+"dark "+t+"black"),d(e).addClass(t+r)})});else if("customizerContainer"===root)d(".container").removeClass().addClass("container container-"+currentValue);else if("customizerColumns"===root)"three"===currentValue&&d(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-4 article-column-3"),"four"===currentValue&&d(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-4 col-xl-3 article-column-4"),"five"===currentValue&&d(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-3 col-xl-5th article-column-5"),"six"===currentValue&&d(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-3 col-xl-2 article-column-6");else if("customizerButtonType"===root)d.each(["button","btn"],function(e,t){d("."+t).each(function(){var e=d(this);color=e.attr("data-color"),type=e.attr("data-type"),scheme=d("#customizer-general-color-scheme").find(":selected").val(),void 0!==color?e.removeClass(t+"-"+color+" "+t+"-"+type+" "+t+"-"+type+"-"+color).addClass(t+"-"+color+" "+t+"-"+currentValue+" "+t+"-"+currentValue+"-"+color):e.removeClass(t+"-"+type).addClass(t+"-"+currentValue),e.hasClass("icon")&&("white"!==scheme&&"light"!==scheme||"empty"!==currentValue&&("common"!==currentValue||"gray"!==color&&"default"!==color)?e.removeClass("icon_white icon_black").addClass("icon_white"):e.removeClass("icon_white icon_black").addClass("icon_black")),e.attr("data-type",currentValue)})});else if("customizerMenuPosition"===root){d.each([{header:"header_menu_"},{"#main-menu":"main-menu-"}],function(){d.each(this,function(e,t){d(e).removeClass(t+"fixed "+t+"absolute"),d(e).addClass(t+currentValue)})})}else"customizerMenuButtonType"===root&&(d(".menu-toggle").empty(),"button-icon-text"===currentValue&&d(".menu-toggle").removeClass().addClass("menu-toggle button menu-toggle_button menu-toggle_icon"),"button-icon"===currentValue&&d(".menu-toggle").removeClass().addClass("menu-toggle button menu-toggle_button menu-toggle_icon menu-toggle_solo-icon"),"button-text"===currentValue&&d(".menu-toggle").removeClass().addClass("menu-toggle button menu-toggle_button"),"icon"===currentValue&&d(".menu-toggle").removeClass().addClass("menu-toggle btn-reset menu-toggle_icon menu-toggle_solo-icon"),"icon-text"===currentValue&&d(".menu-toggle").removeClass().addClass("menu-toggle btn-reset menu-toggle_icon menu-toggle_text"),"text"===currentValue&&d(".menu-toggle").removeClass().addClass("menu-toggle menu-toggle_text"),-1===d.inArray(currentValue,["icon","button-icon"])&&d(".menu-toggle").html("Меню").addClass("menu-toggle_icon-left"));else console.log(root)}}),t=m,r="",d.each(t,function(e,t){r=r+"--"+e+": "+t+";"}),r=":root {"+r+"}",d("#aesthetix-root").empty().text(r)}function g(e){if(-1!==d.inArray(parseInt(e),[500,600,700,800,900,950]))var t="white";else t="black";return t}null!==t&&d("#aesthetix-name").val(t),d.each([".button",".btn"],function(e,t){d(t).each(function(){var r=d(this),o=r.attr("class");d.each(["primary","secondary","gray","default"],function(e,t){o.includes(t)&&r.attr("data-color",t)}),r.attr("data-type","common"),d.each(["empty","gradient","slide"],function(e,t){o.includes(t)&&r.attr("data-type",t)})})});var a=localStorage.getItem("aesthetixLocks");null===a?a={}:(a=JSON.parse(a),d.each(a,function(e,t){if("off"===t)var r="on";else r="off";d("#"+e).next().attr("data-lock",t).removeClass("icon_lock-"+r).addClass("icon_lock-"+t)})),d("#aesthetix-form").on("click",".lock",function(e){var t=d(this).prev().attr("id"),r=d(this).attr("data-lock");if("off"===r)var o="on";else o="off";d(this).attr("data-lock",o).removeClass("icon_lock-"+r).addClass("icon_lock-"+o),a[t]=o,localStorage.setItem("aesthetixLocks",JSON.stringify(a)),e.preventDefault()}),d(".selector").change(function(e){o(d(e.target).closest("#aesthetix-form").serializeArray())}),d("#footer").on("click","#aesthetix-random",function(e){d("#aesthetix-form .selector").each(function(){var e=d(this).children("option"),t=Math.floor(e.length*(Math.random()%1));"on"===d(this).next().attr("data-lock")&&e.attr("selected",!1).eq(t).attr("selected",!0)}),o(d(e.target).closest("#aesthetix-form").serializeArray()),e.preventDefault()}),d("#footer").on("click",".aesthetix-action",function(e){var t=d(e.target).closest("#aesthetix-form"),r=d(e.target).attr("data-action");"reset"===r&&d(".selector").each(function(){var e=d(this).attr("data-default");d(this).val(e)}),t.hasClass("submited")||d.ajax({type:"POST",url:ajax_aesthetix_obj.url,data:{action:"aesthetix_form_action",content:t.serialize(),type:r},beforeSend:function(){t.addClass("submited")},complete:function(){t.removeClass("submited")},success:function(e){e.success&&"reset"===r&&o(t.serializeArray())},error:function(e,t,r){500===t?console.log("Error while adding comment"):"timeout"===t?console.log("Error: Server doesn't respond."):console.log(e)}}),e.preventDefault()})});